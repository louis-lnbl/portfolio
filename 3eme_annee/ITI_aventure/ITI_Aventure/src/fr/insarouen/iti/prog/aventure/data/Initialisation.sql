CREATE TABLE MONDE(
    nomMonde VARCHAR(50) PRIMARY KEY
);

CREATE TABLE PIECE(
    nomPiece VARCHAR(50) PRIMARY KEY,
    nomMonde VARCHAR(50) REFERENCES MONDE(nomMonde) ON DELETE CASCADE
);


CREATE TABLE PORTE(
    nomPorte VARCHAR(50) PRIMARY KEY,
    etat VARCHAR(50),
    nomMonde VARCHAR(50) REFERENCES MONDE(nomMonde) ON DELETE CASCADE,
    CHECK (etat IN('FERME', 'OUVERT'))
);

CREATE TABLE PIEDDEBICHE(
    nomPdb VARCHAR(50) PRIMARY KEY,
    estDeplacable boolean,
    nomPiece VARCHAR(50) REFERENCES PIECE(nomPiece) ON DELETE CASCADE
);

CREATE TABLE JOUEURHUMAIN(
    nomJoueur VARCHAR(50) PRIMARY KEY,
    ptVie INTEGER,
    ptForce INTEGER,
    nomMonde VARCHAR(50) REFERENCES MONDE(nomMonde) ON DELETE CASCADE,
    nomPiece VARCHAR(50) REFERENCES PIECE(nomPiece) ON DELETE CASCADE
);

CREATE TABLE JOUEURPOSSEDEPDB(
    nomPdb VARCHAR(50) REFERENCES PIEDDEBICHE(nomPdb) ON DELETE CASCADE,
    nomJoueur VARCHAR(50) REFERENCES JOUEURHUMAIN(nomJoueur) ON DELETE CASCADE
);

CREATE TABLE PIECECONTIENTPDB(
    nomPdb VARCHAR(50) REFERENCES PIEDDEBICHE(nomPdb) ON DELETE CASCADE,
    nomPiece VARCHAR(50) REFERENCES PIECE(nomPiece) ON DELETE CASCADE
);

CREATE TABLE PIECEPOSSEDEPORTE(
    nomPorte VARCHAR(50) REFERENCES PORTE(nomPorte) ON DELETE CASCADE,
    nomPiece VARCHAR(50) REFERENCES PIECE(nomPiece) ON DELETE CASCADE
);
